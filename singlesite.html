<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cykler</title>
    <link href="https://fonts.googleapis.com/css?family=Judson|Poppins&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Hind+Siliguri|Lato:700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <!--Favicon-->
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <!--Favicon slut -->

    <!--
    <header id="side_menu">
        <nav>
            <div id="menu_billede">
                <a href="index.html">
                    <img src="images/KOGA_LYB_WHITE.svg" alt="KOGA Logo"></a>
            </div>
            <div id="menuknap">☰</div>
            <ul id="menu" class="hidden">
                <li><a href="cykler.html">cykler</a></li>
                <li><a href="blog.html">blog</a></li>
                <li><a href="om_os.html">om os</a></li>
                <li><a href="kontakt.html">kontakt</a></li>
            </ul>
        </nav>
    </header>
-->
</head>
<header class="header">
    <a href="index.html" class="logo">
        <img src="images/KOGA_LYB_WHITE.svg" alt="KOGA Logo"></a>
    <input class="menu-btn" type="checkbox" id="menu-btn" />
    <label class="menu-icon" for="menu-btn"><span class="navicon"></span></label>
    <ul class="menu">
        <li><a href="cykler.html">CYKLER</a></li>
        <li><a href="blog.html">BLOG</a></li>
        <li><a href="om_os.html">OM OS</a></li>
        <li><a href="https://www.koga.com/en/my-koga-and-i" target="_blank">MIT KOGA</a></li>
        <li><a href="kontakt.html">KONTAKT</a></li>
    </ul>
</header>

<body>

    <section id="splash_singlesite"></section>

    <main class="cykler_wrapper">
        <div id="filternavbar">
            <nav class="filter_alle tilbage_knap">
                <button class="tilbage">tilbage</button>
            </nav>
        </div>
    </main>

    <div class="overlay_box hide"></div>

    <template id="temp" class="singlesite">
        <article class="article_cykel">
            <section class="singlewrapper">
                <div class="billede_single">
                    <img class="billede_1" src="" style="width: 100%">
                    <div class="tab_gallery">
                        <div class="bb">
                        </div>
                    </div>
                </div>
                <div class="single_tekst">
                    <div class="cykel_info">
                        <h2 class="navn"></h2>
                        <p class="lang"></p>
                        <p class="pris"></p>
                        <p class="afb"></p>
                    </div>
                </div>
            </section>
        </article>
        <div class="pop_wrapper">
            <div class="pop_bb skjul">
            </div>
        </div>
        <button class="luk hide">X</button>
    </template>

    <template id="b">
        <img src="" alt="">
    </template>


    <main>
        <section class="data"></section>
        <div class="spec_top">
            <h4>SPECIFIKATIONER</h4>
        </div>
        <div class="specList"></div>

    </main>



    <!--<div>
        <button class="tilbage">Tilbage</button>
    </div>-->


    <footer id="footer">
        <div class="sectionwrapper">
            <div class="col col_with_padding">
                <h2>Kontakt</h2>
                <div class="icons icon_flex">
                    <div class="icon_block">
                        <i class="fas fa-map-marked-alt"></i>
                        <p>Peter Bangsvej</p>
                        <!--                        <p>2000 Frederiksberg</p>-->
                    </div>
                    <div class="icon_block">
                        <i class="fas fa-phone-alt"></i>
                        <p>+45 38 86 43 25</p>
                    </div>
                    <div class="icon_block">
                        <i class="fas fa-envelope"></i>
                        <p>info@kogacenter.dk</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="koga_logo">
                    <a href="index.html">
                        <img src="images/KOGA_LYB_WHITE.svg" alt="KOGA Logo"></a>
                </div>
                <div class="icons">
                    <i class="fab fa-facebook-f"></i>
                    <i class="fab fa-instagram"></i>
                    <i class="fab fa-twitter"></i>
                    <i class="fab fa-youtube"></i>
                </div>
            </div>
            <div class="col col_with_padding">
                <a href="cykler.html">
                    <h2>Cykler</h2>
                </a>
                <a href="cykler.html">
                    <p>E-bikes</p>
                </a>
                <a href="cykler.html">
                    <p>Race</p>
                </a>
                <a href="cykler.html">
                    <p>City Tour</p>
                </a>
                <a href="cykler.html">
                    <p>Trekking</p>
                </a>
                <a href="cykler.html">
                    <p>Mountain Bike</p>
                </a>
                <a href="https://www.koga.com/en/koga-signature">
                    <p>KOGA Signature</p>
                </a>
            </div>
        </div>
    </footer>


    <script>
        let urlParams = new URLSearchParams(window.location.search);
        let myID = urlParams.get("id");
        console.log("myID", myID);
        let cykler;
        const data = document.querySelector(".data");
        //const expandImg = document.querySelector(".expandImg");
        const specList = document.querySelector(".specList");
        const url = "https://uwei.eu/kea/2_semester/tema9/koga/wordpress/wp-json/wp/v2/cykler/" + myID;

        document.addEventListener("DOMContentLoaded", start);

        function start() {
            document.querySelector(".tilbage").addEventListener("click", () => {
                history.back();
            });

            hentJson();
        }

        async function hentJson() {
            const response = await fetch(url);
            cykler = await response.json();
            //console.log(cykler);
            vis();
            visSpec();
            expandImage();
        }

        function vis() {
            const skabelon = document.querySelector("#temp");

            const klon = skabelon.cloneNode(true).content;

            klon.querySelector(".navn").textContent = cykler.title.rendered;
            klon.querySelector(".pris").textContent = `Pris på cyklen: ` + cykler.pris;
            klon.querySelector(".lang").innerHTML = cykler.beskrivelse;
            klon.querySelector(".afb").textContent = `Afbetaling: ` + cykler.afbetaling_12_mdr + ` over 12 mdr. el. ` + cykler.afbetaling_24_mdr + ` over 24 mdr.`;
            klon.querySelector(".billede_1").src = cykler.front_billede.guid;

            cykler.billeder.forEach(b => {
                const bklon = document.querySelector("#b").cloneNode(true).content;
                bklon.querySelector("img").src = b.guid;
                klon.querySelector(".bb").appendChild(bklon);
            });

            data.appendChild(klon);

        }

        function expandImage() {
            const skabelon = document.querySelector("#temp");

            const klon = skabelon.cloneNode(true).content;

            cykler.billeder.forEach(b => {
                const bklon = document.querySelector("#b").cloneNode(true).content;
                bklon.querySelector("img").src = b.guid;
                klon.querySelector(".pop_bb").appendChild(bklon);
            });

            data.appendChild(klon);

            document.querySelector(".bb").addEventListener("click", popUp);
            document.querySelector(".billede_1").addEventListener("click", popUp);

        }


        function popUp() {
            document.querySelector(".overlay_box").classList.remove("hide");
            document.querySelector(".pop_bb").classList.remove("skjul");
            document.querySelector(".luk").classList.remove("hide");
            console.log(document.querySelector(".pop_bb"), document.querySelector(".pop_bb").classList);


            document.querySelector(".luk").addEventListener("click", lukPopup);
        }

        function lukPopup() {
            document.querySelector(".overlay_box").classList.add("hide");
            //document.querySelector(".pop_bb").classList.add("skjul");
            document.querySelector(".pop_bb").classList.add("skjul");
            document.querySelector(".luk").classList.add("hide");
            console.log(document.querySelector(".pop_bb"), document.querySelector(".pop_bb").classList);
        }

        /*function visSpecNy() {
            let i = 0;
            console.log(cykler);
            for (let [key, value] of Object.entries(cykler)) {
                i++;
                if (i > 26 && value && value != "[object Object]") {
                    //console.log(key, value);
                    const p = document.createElement("p");
                    p.textContent = key + ": " + value;
                    specList.appendChild(p);
                }
            }
        }*/

        function visSpec() {

            if (cykler.vaegt != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "vaegt";
                dt.textContent = "Vægt: ";
                dd.textContent += cykler.vaegt;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.stel_storrelser != "") {
                //klon.querySelector("dt").addClass = "stel_storrelser";
                //klon.querySelector("dt").textContent = "Stel størrelser:"
                //klon.querySelector("dd").textContent = cykler.stel_storrelser;
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "stel_storrelser";
                dt.textContent = "Stel størrelser: ";
                dd.textContent += cykler.stel_storrelser;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.farve != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "farve";
                dt.textContent = "Farver: ";
                dd.textContent += cykler.farve;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.gear != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "gear";
                dt.textContent = "Antal gear: ";
                dd.textContent += cykler.gear;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.front_gaffel != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "front_gaffel";
                dt.textContent = "Front gaffel: ";
                dd.textContent += cykler.front_gaffel;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.bagbremse != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "bagbremse";
                dt.textContent = "Bagbremse: ";
                dd.textContent += cykler.bagbremse;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.bagbremse_sort != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "bagbremse_sort";
                dt.textContent = "Bagbremse sortering: ";
                dd.textContent += cykler.bagbremse_sort;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.bagbremse_make != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "bagbremse_make";
                dt.textContent = "Bagbremse mærke: ";
                dd.textContent += cykler.bagbremse_make;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.bagbremse_type != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "bagbremse_type";
                dt.textContent = "Bagbremse type: ";
                dd.textContent += cykler.bagbremse_type;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.forbremse != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "forbremse";
                dt.textContent = "Forbremse: ";
                dd.textContent += cykler.forbremse;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.forbremse_sort != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "forbremse_sort";
                dt.textContent = "Forbremse sortering: ";
                dd.textContent += cykler.forbremse_sort;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.forbremse_make != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "forbremse_make";
                dt.textContent = "Forbremse mærke: ";
                dd.textContent += cykler.forbremse_make;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.forbremse_type != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "forbremse_type";
                dt.textContent = "Forbremse type: ";
                dd.textContent += cykler.forbremse_type;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.hjul != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "hjul";
                dt.textContent = "Hjulsæt: ";
                dd.textContent += cykler.hjul;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.hjul_make != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "hjul_make";
                dt.textContent = "Hjulsæt mærke: ";
                dd.textContent += cykler.hjul_make;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.hjulst_type != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "hjulst_type";
                dt.textContent = "Hjulsæt type: ";
                dd.textContent += cykler.hjulst_type;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.navhjul != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "navhjul";
                dt.textContent = "Navhjul: ";
                dd.textContent += cykler.navhjul;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.daek != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "daek";
                dt.textContent = "Dæk: ";
                dd.textContent += cykler.daek;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.daek_sort != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "daek_sort";
                dt.textContent = "Dæk sortering: ";
                dd.textContent += cykler.daek_sort;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.daek_make != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "daek_make";
                dt.textContent = "Dæk mærke: ";
                dd.textContent += cykler.daek_make;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.dk_type != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "dk_type";
                dt.textContent = "Dæk type: ";
                dd.textContent += cykler.dk_type;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.forlygte != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "forlygte";
                dt.textContent = "Forlygte: ";
                dd.textContent += cykler.forlygte;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
            if (cykler.motor != "") {
                const dt = document.createElement("dt");
                const dd = document.createElement("dd");
                dt.addClass = "motor";
                dt.textContent = "Cykelmotor: ";
                dd.textContent += cykler.motor;
                specList.appendChild(dt);
                specList.appendChild(dd);
            }
        }

    </script>

</body>

</html>
