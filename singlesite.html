<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="style.css">

    <header class="header">
        <a href="index.html" class="logo">
            <img src="images/KOGA_LYB_WHITE.svg" alt="KOGA Logo"></a>
        <input class="menu-btn" type="checkbox" id="menu-btn" />
        <label class="menu-icon" for="menu-btn"><span class="navicon"></span></label>
        <ul class="menu">
            <li><a href="cykler.html">CYKLER</a></li>
            <li><a href="blog.html">BLOG</a></li>
            <li><a href="om_os.html">OM OS</a></li>
            <li><a href="kontakt.html">KONTAKT</a></li>
        </ul>
    </header>



    <!--
    <header id="side_menu">
        <nav>
            <div id="menu_billede">
                <a href="index.html">
                    <img src="images/KOGA_LYB_WHITE.svg" alt="logo_profil"></a>
            </div>
            <div id="menuknap">☰</div>
            <ul id="menu" class="hidden">
                <li><a href="cykler.html">cykler</a></li>
                <li><a href="blog.html">blog</a></li>
                <li><a href="om_os.html">om os</a></li>
                <li><a href="kontakt.html">kontakt</a></li>
            </ul>
        </nav>
    </header>
    -->
</head>

<body>

    <section id="splash_singlesite">

        <template id="b_stort">
            <img src="" alt="">
        </template>

        <template id="b">
            <img src="" alt="">
        </template>

        <template id="temp" class="singlesite">

            <article class="article_cykel">
                <section class="singlewrapper">
                    <div class="billede_single">
                        <img class="billede_1" src="" style="width: 100%">
                        <div class="tab_gallery">
                            <div class="bb">
                            </div>
                        </div>
                    </div>
                    <div class="single_tekst">
                        <div class="cykel_info">
                            <h2 class="navn"></h2>
                            <p class="pris"></p>
                            <p class="afb"></p>
                            <p class="lang"></p>
                        </div>
                    </div>
                </section>
            </article>

        </template>

        <main>
            <section class="data"></section>

            <div class="spec_top">
                <h4>SPECIFIKATIONER</h4>
            </div>

            <section class="specList">
            </section>
        </main>

        <div>
            <button class="luk">Tilbage</button>
        </div>


        <footer id="footer">
            <div class="sectionwrapper">
                <div class="col col_with_padding">
                    <h2>Kontakt</h2>
                    <div class="icons icon_flex">
                        <div class="icon_block">
                            <i class="fas fa-map-marked-alt"></i>
                            <p>Peter Bangsvej</p>
                            <!--                        <p>2000 Frederiksberg</p>-->
                        </div>
                        <div class="icon_block">
                            <i class="fas fa-phone-alt"></i>
                            <p>+45 38 86 43 25</p>
                        </div>
                        <div class="icon_block">
                            <i class="fas fa-envelope"></i>
                            <p>info@kogacenter.dk</p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="koga_logo">
                        <a href="index.html">
                            <img src="images/KOGA_LYB_WHITE.svg" alt="KOGA Logo"></a>
                    </div>
                    <div class="icons">
                        <i class="fab fa-facebook-f"></i>
                        <i class="fab fa-instagram"></i>
                        <i class="fab fa-twitter"></i>
                        <i class="fab fa-youtube"></i>
                    </div>
                </div>
                <div class="col col_with_padding">
                    <h2>Cykler</h2>
                    <p>Elcykler</p>
                    <p>City</p>
                    <p>Trekking</p>
                    <p>Rave</p>
                    <p>KOGA Signature</p>
                </div>
            </div>
        </footer>


        <script>
            let urlParams = new URLSearchParams(window.location.search);
            let myID = urlParams.get("id");
            console.log("myID", myID);
            let cykler;
            const data = document.querySelector(".data");
            const expandImg = document.querySelector(".expandImg");
            const specList = document.querySelector(".specList");
            const url = "https://uwei.eu/kea/2_semester/tema9/koga/wordpress/wp-json/wp/v2/cykler/" + myID;

            document.addEventListener("DOMContentLoaded", start);

            function start() {
                document.querySelector(".luk").addEventListener("click", () => {
                    history.back();
                })

                hentJson();
            }

            async function hentJson() {
                const response = await fetch(url);
                cykler = await response.json();
                //console.log(cykler);
                vis();
                visSpec();

                //document.querySelector(".bb").addEventListener("click", expandImage);
            }

            function vis() {
                const skabelon = document.querySelector("#temp");

                const klon = skabelon.cloneNode(true).content;

                klon.querySelector(".navn").textContent = cykler.model;
                klon.querySelector(".pris").textContent = `Pris på cyklen: ` + cykler.pris;
                klon.querySelector(".lang").innerHTML = cykler.beskrivelse;
                klon.querySelector(".afb").textContent = `Afbetaling: ` +
                    cykler.afbetaling_12_mdr + ` over 12 mdr. el. ` + cykler.afbetaling_24_mdr + ` over 24 mdr.`;
                klon.querySelector(".billede_1").src = cykler.front_billede.guid;

                cykler.billeder.forEach(b => {
                    const bklon = document.querySelector("#b").cloneNode(true).content;
                    bklon.querySelector("img").src = b.guid;
                    klon.querySelector(".bb").appendChild(bklon);
                });

                data.appendChild(klon);
            }

            /*function visSpecNy() {
                let i = 0;
                console.log(cykler);
                for (let [key, value] of Object.entries(cykler)) {
                    i++;
                    if (i > 26 && value && value != "[object Object]") {
                        //console.log(key, value);
                        const p = document.createElement("p");
                        p.textContent = key + ": " + value;
                        specList.appendChild(p);
                    }
                }
            }*/

            /*function expandImage() {

                const slideshow = document.querySelector("#b_stort");
                const slideKlon = slideshow.cloneNode(true).content;

                slideKlon.querySelector("img").src = cykler.billeder.guid;

                expandImg.appendChild(slideKlon);

            }*/


            function visSpec() {

                if (cykler.vaegt != "") {
                    const dt = document.createElement("dt");
                    //const dd = document.createElement("dd");
                    dt.addClass = "vaegt";
                    dt.textContent = "Vægt: " + cykler.vaegt;
                    //dd.textContent += cykler.vaegt;
                    specList.appendChild(dt);
                    //specList.appendChild(dd);
                }
                if (cykler.stel_storrelser != "") {
                    //klon.querySelector("dt").addClass = "stel_storrelser";
                    //klon.querySelector("dt").textContent = "Stel størrelser:"
                    //klon.querySelector("dd").textContent = cykler.stel_storrelser;
                    const dt = document.createElement("dt");
                    dt.addClass = "stel_storrelser";
                    dt.textContent = "Stel størrelser: " + cykler.stel_storrelser;
                    specList.appendChild(dt);
                }
                if (cykler.farve != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "farve";
                    dt.textContent = "Farver: " + cykler.farve;
                    specList.appendChild(dt);
                }
                if (cykler.gear != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "gear";
                    dt.textContent = "Antal gear: " + cykler.gear;
                    specList.appendChild(dt);
                }
                if (cykler.front_gaffel != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "front_gaffel";
                    dt.textContent = "Front gaffel: " + cykler.front_gaffel;
                    specList.appendChild(dt);
                }
                if (cykler.bagbremse != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "bagbremse";
                    dt.textContent = "Bagbremse: " + cykler.bagbremse;
                    specList.appendChild(dt);
                }
                if (cykler.bagbremse_sort != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "bagbremse_sort";
                    dt.textContent = "Bagbremse sortering: " + cykler.bagbremse_sort;
                    specList.appendChild(dt);
                }
                if (cykler.bagbremse_make != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "bagbremse_make";
                    dt.textContent = "Bagbremse mærke: " + cykler.bagbremse_make;
                    specList.appendChild(dt);
                }
                if (cykler.bagbremse_type != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "bagbremse_type";
                    dt.textContent = "Bagbremse type: " + cykler.bagbremse_type;
                    specList.appendChild(dt);
                }
                if (cykler.forbremse != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "forbremse";
                    dt.textContent = "Forbremse: " + cykler.forbremse;
                    specList.appendChild(dt);
                }
                if (cykler.forbremse_sort != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "forbremse_sort";
                    dt.textContent = "Forbremse sortering: " + cykler.forbremse_sort;
                    specList.appendChild(dt);
                }
                if (cykler.forbremse_make != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "forbremse_make";
                    dt.textContent = "Forbremse mærke: " + cykler.forbremse_make;
                    specList.appendChild(dt);
                }
                if (cykler.forbremse_type != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "forbremse_type";
                    dt.textContent = "Forbremse type: " + cykler.forbremse_type;
                    specList.appendChild(dt);
                }
                if (cykler.hjul != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "hjul";
                    dt.textContent = "Hjulsæt: " + cykler.hjul;
                    specList.appendChild(dt);
                }
                if (cykler.hjul_make != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "hjul_make";
                    dt.textContent = "Hjulsæt mærke: " + cykler.hjul_make;
                    specList.appendChild(dt);
                }
                if (cykler.hjulst_type != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "hjulst_type";
                    dt.textContent = "Hjulsæt type: " + cykler.hjulst_type;
                    specList.appendChild(dt);
                }
                if (cykler.navhjul != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "navhjul";
                    dt.textContent = "Navhjul: " + cykler.navhjul;
                    specList.appendChild(dt);
                }
                if (cykler.daek != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "daek";
                    dt.textContent = "Dæk: " + cykler.daek;
                    specList.appendChild(dt);
                }
                if (cykler.daek_sort != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "daek_sort";
                    dt.textContent = "Dæk sortering: " + cykler.daek_sort;
                    specList.appendChild(dt);
                }
                if (cykler.daek_make != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "daek_make";
                    dt.textContent = "Dæk mærke: " + cykler.daek_make;
                    specList.appendChild(dt);
                }
                if (cykler.dk_type != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "dk_type";
                    dt.textContent = "Dæk type: " + cykler.dk_type;
                    specList.appendChild(dt);
                }
                if (cykler.forlygte != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "forlygte";
                    dt.textContent = "Forlygte: " + cykler.forlygte;
                    specList.appendChild(dt);
                }
                if (cykler.motor != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "motor";
                    dt.textContent = "Cykelmotor: " + cykler.motor;
                    specList.appendChild(dt);
                }
                if (cykler.batterikapacitet != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "batterikapacitet";
                    dt.textContent = "Batterikapacitet: " + cykler.batterikapacitet;
                    specList.appendChild(dt);
                }
                if (cykler.motormrke != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "motormrke";
                    dt.textContent = "Motor mærke: " + cykler.motormrke;
                    specList.appendChild(dt);
                }
                if (cykler.skrm != "") {
                    const dt = document.createElement("dt");
                    dt.addClass = "skrm";
                    dt.textContent = "Skærm: " + cykler.skrm;
                    specList.appendChild(dt);
                }

            }
        </script>

</body>

</html>
