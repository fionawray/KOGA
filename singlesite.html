<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="style.css">

    <header id="side_menu">
        <nav>
            <div id="menu_billede">
                <a href="index.html">
                    <img src="images/KOGA_LYB_WHITE.svg" alt="logo_profil"></a>
            </div>
            <div id="menuknap">â˜°</div>
            <ul id="menu" class="hidden">
                <li><a href="cykler.html">cykler</a></li>
                <li><a href="blog.html">blog</a></li>
                <li><a href="om_os.html">om os</a></li>
                <li><a href="kontakt.html">kontakt</a></li>
            </ul>
        </nav>
    </header>
</head>

<body>


    <main>
        <section class="data">
        </section>
    </main>

    <template id="temp" class="singlesite">
        <article class="article_cykel">
            <div class="bb">
            </div>
            <div class="cykel_info">
                <h2 class="navn"></h2>
                <p class="pris"></p>
                <p class="lang"></p>
                <p class="afbetaling_12"></p>
                <p class="afbetaling_24"></p>
            </div>
            <div class="cykel_details">
                <p class="vaegt"></p>
                <p class="stel"></p>
                <p class="farve"></p>
                <p class="gear"></p>
                <p class="frontgaffel"></p>
                <p class="bagbremse"></p>
                <p class="bagbremse_sort"></p>
                <p class="bagbremse_make"></p>
                <p class="bagbremse_type"></p>
                <p class="forbremse"></p>
                <p class="forbremse_sort"></p>
                <p class="forbremse_make"></p>
                <p class="forbremse_type"></p>
                <p class="hjul"></p>
                <p class="hjul_make"></p>
                <p class="hjul_type"></p>
                <p class="navhjul"></p>
                <p class="daek"></p>
                <p class="daek_sort"></p>
                <p class="daek_make"></p>
                <p class="daek_type"></p>
                <p class="forlygte"></p>
                <p class="motor"></p>
                <p class="motor_maerke"></p>
                <p class="batteri"></p>
                <p class="skaerm"></p>
            </div>
        </article>
    </template>


    <template id="b">
        <img src="" alt="">
    </template>

    <div>
        <button class="luk">Tilbage</button>
    </div>





    <script>
        let urlParams = new URLSearchParams(window.location.search);
        let myID = urlParams.get("id");
        console.log("myID", myID);
        let cykler;
        const data = document.querySelector(".data");
        const url = "https://uwei.eu/kea/2_semester/tema9/koga/wordpress/wp-json/wp/v2/cykler/" + myID;

        document.addEventListener("DOMContentLoaded", start);

        function start() {
            hentJson();
        }

        async function hentJson() {
            const response = await fetch(url);
            console.log(response);
            cykler = await response.json();
            console.log(cykler);
            vis();

            document.querySelector(".luk").addEventListener("click", () => {
                history.back();
            })
        }

        function vis() {
            const skabelon = document.querySelector("#temp");

            const klon = skabelon.cloneNode(true).content;

            klon.querySelector(".navn").textContent = cykler.title.rendered;
            klon.querySelector(".pris").textContent = cykler.pris;
            klon.querySelector(".lang").innerHTML = cykler.beskrivelse;
            klon.querySelector(".afbetaling_12").textContent = cykler.afbetaling_12_mdr;
            klon.querySelector(".afbetaling_24").textContent = cykler.afbetaling_24_mdr;
            klon.querySelector(".vaegt").textContent = cykler.vaegt;
            klon.querySelector(".stel").textContent = cykler.stel_storrelser;
            klon.querySelector(".farve").textContent = cykler.farve;
            klon.querySelector(".gear").textContent = cykler.gear;
            klon.querySelector(".frontgaffel").textContent = cykler.front_gaffel;
            klon.querySelector(".bagbremse").textContent = cykler.bagbremse;
            klon.querySelector(".bagbremse_sort").textContent = cykler.bagbremse_sort;
            klon.querySelector(".bagbremse_make").textContent = cykler.bagbremse_make;
            klon.querySelector(".bagbremse_type").textContent = cykler.bagbremse_make;
            klon.querySelector(".forbremse").textContent = cykler.forbremse;
            klon.querySelector(".forbremse_sort").textContent = cykler.forbremse_sort;
            klon.querySelector(".forbremse_make").textContent = cykler.bagbremse_make;
            klon.querySelector(".forbremse_type").textContent = cykler.bagbremse_make;
            klon.querySelector(".hjul").textContent = cykler.hjul;
            klon.querySelector(".hjul_make").textContent = cykler.hjul_make;
            klon.querySelector(".hjul_type").textContent = cykler.hjulst_type;
            klon.querySelector(".navhjul").textContent = cykler.navhjul;
            klon.querySelector(".daek").textContent = cykler.daek;
            klon.querySelector(".daek_sort").textContent = cykler.daek_sort;
            klon.querySelector(".daek_make").textContent = cykler.daek_make;
            klon.querySelector(".daek_type").textContent = cykler.dk_type;
            klon.querySelector(".forlygte").textContent = cykler.forlygte;
            klon.querySelector(".motor").textContent = cykler.motor;
            klon.querySelector(".batteri").textContent = cykler.batterikapacitet;
            klon.querySelector(".motor_maerke").textContent = cykler.motormrke;
            klon.querySelector(".skaerm").textContent = cykler.skrm;


            cykler.billeder.forEach(b => {
                const bklon = document.querySelector("#b").cloneNode(true).content;
                bklon.querySelector("img").src = b.guid;
                klon.querySelector(".bb").appendChild(bklon);
            });

            data.appendChild(klon);
        }
    </script>

</body>

</html>
